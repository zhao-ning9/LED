RCC_APB2ENR EQU 0x40021018;??RCC???,??,0x40021018?????
GPIOC_CRH EQU 0x40011004;??GPIOC_CRH???,?????????,????????0x04 
GPIOC_ORD EQU 0x4001100c;??GPIOC_ORD???,????????,???????
GPIOA_CRL EQU 0x40010800;??GPIOC_CRH???,?????????,????????0x04 
GPIOA_ORD EQU 0x4001080C;??GPIOC_ORD???,????????,???????
GPIOB_CRH EQU 0x40010C04;??GPIOC_CRH???,?????????,????????0x04 
GPIOB_ORD EQU 0x40010C0C;??GPIOC_ORD???,????????,???????
Stack_Size EQU  0x00000400;????
;????stack?,??????,???,?8????????????Stack_Size?????,????????__initial_sp?
                AREA    STACK, NOINIT, READWRITE, ALIGN=3 ;NOINIT: = NO Init,?????READWRITE : ??,???ALIGN =3 : 2^3 ??,?8?????
Stack_Mem       SPACE   Stack_Size
__initial_sp




                AREA    RESET, DATA, READONLY

__Vectors       DCD     __initial_sp               ; Top of Stack
                DCD     Reset_Handler              ; Reset Handler
                    
                    
                AREA    |.text|, CODE, READONLY
                    
                THUMB
                REQUIRE8
                PRESERVE8
                    
                ENTRY
Reset_Handler 
				bl LED_Init;bl:??????????????????,????(PC)?????LR???
MainLoop        BL LED_ON_C
                BL Delay
                BL LED_OFF_C
                BL Delay
				BL LED_ON_A
                BL Delay
                BL LED_OFF_A
                BL Delay
				BL LED_ON_B
                BL Delay
                BL LED_OFF_B
                BL Delay
                
                B MainLoop;B:??????
LED_Init;LED???
                PUSH {R0,R1, LR};R0,R1,LR???????
                
                LDR R0,=RCC_APB2ENR;LDR???????????(??R0)?
                ORR R0,R0,#0x1c;ORR ?????,11100?R0?????1,?????
                LDR R1,=RCC_APB2ENR
                STR R0,[R1];STR???????????????,?r0??????rcc???
				;???????????????
				
				
                ;???GPIOA??
                LDR R0,=GPIOA_CRL
                BIC R0,R0,#0x0fffffff;BIC ???????,????
                LDR R1,=GPIOA_CRL
                STR R0,[R1]
                ;?????????CPIOC_CRH
                LDR R0,=GPIOA_CRL
                ORR R0,#0x20000000;????pc15,???2,?0100,???????,?????2mhz
                LDR R1,=GPIOA_CRL
                STR R0,[R1]
				;GPIOC?????????????,???CPIOA_CRH????,?????????,?????????????,?0100,???????????4
                ;?PC15?1
                MOV R0,#0x80; ????0b1000 0000 ,?7???a7???????
                LDR R1,=GPIOA_ORD ;?r1??ord???
                STR R0,[R1] ;?ord???????r0??
				
				 ;???GPIOB??
                LDR R0,=GPIOB_CRH
                BIC R0,R0,#0xffffff0f;BIC ???????,????,???b9,????????
                LDR R1,=GPIOB_CRH
                STR R0,[R1]
                ;?????????CPIOC_CRH
                LDR R0,=GPIOB_CRH
                ORR R0,#0x00000020;????pc15,???2,?0100,???????,?????2mhz
                LDR R1,=GPIOB_CRH
                STR R0,[R1]
				;GPIOC?????????????,???CPIOA_CRH????,?????????,?????????????,?0100,???????????4
                ;?PC15?1
                MOV R0,#0x200; ????0b10 0000 0000,?16???b9???????
                LDR R1,=GPIOB_ORD ;?r1??ord???
                STR R0,[R1] ;?ord???????r0??
				
				 ;???GPIOC??
                LDR R0,=GPIOC_CRH
                BIC R0,R0,#0x0fffffff;BIC ???????,????,???????????
                LDR R1,=GPIOC_CRH
                STR R0,[R1]
                ;?????????CPIOC_CRH
                LDR R0,=GPIOC_CRH
                ORR R0,#0x20000000;????pc15,???2,?0100,???????,?????2mhz
                LDR R1,=GPIOC_CRH
                STR R0,[R1]
				;GPIOC?????????????,???CPIOA_CRH????,?????????,?????????????,?0100,???????????4
                ;?PC15?1
                MOV R0,#0x8000; ????0b1000 0000 0000 0000,?16???c15???????
                LDR R1,=GPIOC_ORD ;?r1??ord???
                STR R0,[R1] ;?ord???????r0??
             
                POP {R0,R1,PC};???????R0,R1,LR?????R0,R1,PC
LED_ON_A;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x00 ;????0b0000 0000 0000 0000,?16??0,?????pc15?????
                LDR R1,=GPIOA_ORD ;?GPIOC?????r1
                STR R0,[R1];?r0?????GPIOC_ORD?
             
                POP {R0,R1,PC}
             
LED_OFF_A;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x80 ;????0b 1000 0000 0000 0000,?16??1,?????pc15?????
                LDR R1,=GPIOA_ORD ;?GPIOC?????r1
                STR R0,[R1] ;[]??????????,????r0????GPIOC_ORD
             
                POP {R0,R1,PC}  
LED_ON_B;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x000 ;????0b0000 0000 0000 0000,?16??0,?????pc15?????
                LDR R1,=GPIOB_ORD ;?GPIOC?????r1
                STR R0,[R1];?r0?????GPIOC_ORD?
             
                POP {R0,R1,PC}
             
LED_OFF_B;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x200 ;????0b 1000 0000 0000 0000,?16??1,?????pc15?????
                LDR R1,=GPIOB_ORD ;?GPIOC?????r1
                STR R0,[R1] ;[]??????????,????r0????GPIOC_ORD
             
                POP {R0,R1,PC}  
LED_ON_C;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x0000 ;????0b0000 0000 0000 0000,?16??0,?????pc15?????
                LDR R1,=GPIOC_ORD ;?GPIOC?????r1
                STR R0,[R1];?r0?????GPIOC_ORD?
             
                POP {R0,R1,PC}
             
LED_OFF_C;??
                PUSH {R0,R1, LR}    
                
                MOV R0,#0x8000 ;????0b 1000 0000 0000 0000,?16??1,?????pc15?????
                LDR R1,=GPIOC_ORD ;?GPIOC?????r1
                STR R0,[R1] ;[]??????????,????r0????GPIOC_ORD
             
                POP {R0,R1,PC}             
             
Delay
                PUSH {R0,R1, LR}
                
                MOVS R0,#0
                MOVS R1,#0
                MOVS R2,#0
                
DelayLoop0        
                ADDS R0,R0,#1

                CMP R0,#330
                BCC DelayLoop0
                
                MOVS R0,#0
                ADDS R1,R1,#1
                CMP R1,#330
                BCC DelayLoop0 ;???

                MOVS R0,#0
                MOVS R1,#0
                ADDS R2,R2,#1
                CMP R2,#15
                BCC DelayLoop0
                
                
                POP {R0,R1,PC}    
                NOP
				END
